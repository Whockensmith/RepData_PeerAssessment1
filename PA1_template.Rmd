---

<center> <h1>Differences In Activity Patterns Between Weekdays And Weekends </center>

---
  
## Introduction

It is now possible to collect a large amount of data about personal movement using activity monitoring devices such as a [Fitbit][1], [Nike Fuelband][2], or [Jawbone Up][3]. These type of devices are part of the "quantified self" movement -- a group of enthusiasts who take measurements about themselves regularly to improve their health, to find patterns in their behavior, or because they are tech geeks. But these data remain under-utilized both because the raw data are hard to obtain and there is a lack of statistical methods and software for processing and interpreting the data.

We were asked to look at some data collected by one of these devices.  The device collected data at 5 minute intervals through out the day. The data consists of two months of data from an anonymous individual collected during the months of October and November, 2012 and includes the number of steps taken in 5 minute intervals each day. There were four questions from this data that were to be answered.

1. What is the total number of steps taken per-day?   
2. What is the average daily activity pattern?   
3. Does the missing data (NAs) effect median or mean of the data?   
4. Are there differences in activity between weekdays and weekends?



[1]:http://www.fitbit.com/ "Fitbit"
[2]:http://www.nike.com/us/en_us/c/nikeplus-fuelband "Nike Fuelband"
[3]:https://jawbone.com/up "Jawbone Up"

### Collecting the data
The data for this analysis ([Activity monitoring data][4]) was downloaded from the course website 
URL <- http://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip.
The data set is a comma-separated-value (CSV) file with 17,568 observations, one header row, and three columns.  The size of the file is 52K.

[4]:http://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip "Activity monitoring data"

The variables with in the data set are:

1.  steps: The number of steps.    
    - Measured in 5 minute intervals.   
    - Missing values are coded as NA.
2.  date: The date the measurement was taken.    
    - format (YYY-MM-DD)
3.  interval: Identifier for the 5-minute interval the measurement was taken.

### Loading and preprocessing the data
```{r dataload, echo=TRUE}
#  I did not include the code to download the data from R do to differences in platforms and individual system setups and preferences for downloading data sets. Once your data is downloaded read the data set.
act <- read.csv("activity.csv")


```


## What is mean total number of steps taken per day?
- The mean of the total number of steps taken per day is 10766.19 steps per day.
- The median of the total number of steps taken per day is 10765 steps per day.

```{r Mean, echo=TRUE}
#  Calculate the number of steps taken a day.
 spd <- aggregate(steps~date, act,sum)
#  Get the mean of the steps per day.
 spdmn <- mean(spd$steps)
 spdmn
```
```{r Median}
# Get the median of the steps per day.
spdmdn <- median(spd$steps)
spdmdn
```
- Histogram of step per day.
```{r histogram, echo=TRUE}
# builds the histogram
hist(spd$steps, main = paste("Total Steps Per Day"), col="light blue", ylab= "Number of days Occurred (frequency)", xlab="Number of Steps", breaks=seq(0,22000,2200))
# Plots a vertical line where the mean is located.  Did not plot a seperate line for median because it is .81 less than mean, it will overlay the other linetm.
abline(v=spdmn, col="red",lwd=4)
# Place mean label on plot.
text(spdmn, 15, paste("Mean = ", round(spdmn, 2)),col = "Red",pos = 4)
# place median label on plot.
text(spdmn, 13, paste("Median = ", round(spdmdn, 2)),col = "Red",pos = 4)
```
 https://github.com/Whockensmith/RepData_PeerAssessment1/blob/master/histo1.png   
 
## What is the average daily activity pattern?
```{r Plot, echo=TRUE}
# Get the mean of the steps by interval (time of each day).
sbi <- aggregate(steps~interval, act,mean)
# Build a plot
plot(sbi$interval,sbi$steps, xlab = "Time Interval", ylab = "Number of Steps", main = "Daily Activity Patter")
# Add a vertical line at the highest time of most steps
Maxint <- sbi[which.max(sbi$steps),1]
Maxint2 <- c("Interval with max average steps is " ,  Maxint)
Maxspt <- subset(sbi, interval=="835" , select=steps)
Maxspt2 <-  round(Maxspt[which.max(Maxspt$steps),1],2)
Maxspt3 <- c("Maximum average number of steps is ", Maxspt2)
Maxint2
Maxspt3
abline(v= Maxint,lwd=2,col="red")
text(Maxint,Maxspt2, paste(Maxint," has the higest average number of steps"),col = "Red",pos = 4)
text(Maxint,Maxspt2, paste(Maxspt2," steps"),col = "Blue",pos = 2)
```
    
The daily activity pattern is shown in the graph above.  The Time Interval axis is displayed on a 24HR time scale (500 = 5am, 2000 = 10pm) and readings were taken every 5 minutes.   
The graph shows that 8:35 am has the highest number of steps counted. The average number of steps counted at 8:35 am was 206.17. 

## Does the missing data (NAs) effect median or mean of the data?


There are 2304 missing data points.  These points are recorded as NA in the steps column of the data set.  To calculate this the (NAs) need to be changed to a number.  
```{r Fix NAs, echo=TRUE}
#  Replace all NAs in steps column to the average steps for that time interval from the other days at that time interval.
actfx <- transform(act, steps = ifelse(is.na(act$steps), sbi$steps[match(act$interval, sbi$interval)], act$steps))
spdfx <- aggregate(steps~date, actfx,sum)
spdfxmn <- mean(spdfx$steps)
spdfxmdn <- median(spdfx$steps)
hist(spdfx$steps, main = paste("Total Steps Per Day"), col="light blue", ylab= "Number of days Occurred (frequency)", xlab="Number of Steps", breaks=seq(0,22000,2200))
abline(v=spdfxmn, col="red",lwd=4)
# Place mean label on plot.
text(spdfxmn, 22, paste("Mean = ", round(spdfxmn, 2)),col = "Red",pos = 4)
# place median label on plot.
text(spdfxmn, 20, paste("Median = ", round(spdfxmdn, 2)),col = "Red",pos = 4)
```


## Compairing the two histograms.   
  - The First graph is with (NAs) and the second graph is with the (NAs) corrected to average steps based off of other days at that time with data.

```{r , echo=TRUE}
hist(spd$steps, main = paste("Total Steps Per Day With NAs"), col="light blue", ylab= "Number of days Occurred (frequency)", xlab="Number of Steps", breaks=seq(0,22000,2200))
# Plots a vertical line where the mean is located.  Did not plot a seperate line for median because it is .81 less than mean, it will overlay.
abline(v=spdmn, col="red",lwd=4)
abline(h=2,col="grey",lwd=0)
abline(h=3,col="grey",lwd=0)
abline(h=5,col="grey",lwd=0)
abline(h=9,col="grey",lwd=0)
abline(h=12,col="grey",lwd=0)
abline(h=15,col="grey",lwd=0)
# Place mean label on plot.
text(spdmn, 15, paste("Mean = ", round(spdmn, 2)),col = "Red",pos = 4)
# place median label on plot.
text(spdmn, 13, paste("Median = ", round(spdmdn, 2)),col = "Red",pos = 4)
```
    

```{r, echo=TRUE}
hist(spdfx$steps, main = paste("Total Steps Per Day NAs Fixed"), col="light blue", ylab= "Number of days Occurred (frequency)", xlab="Number of Steps", breaks=seq(0,22000,2200))
abline(v=spdfxmn, col="red",lwd=4)
abline(h=2,col="grey",lwd=0)
abline(h=3,col="grey",lwd=0)
abline(h=5,col="grey",lwd=0)
abline(h=9,col="grey",lwd=0)
abline(h=12,col="grey",lwd=0)
abline(h=15,col="grey",lwd=0)
# Place mean label on plot.
text(spdfxmn, 22, paste("Mean = ", round(spdfxmn, 2)),col = "Red",pos = 4)
# place median label on plot.
text(spdfxmn, 20, paste("Median = ", round(spdfxmdn, 2)),col = "Red",pos = 4)
```
    
    
Comparing the two graphs, the mean remained the same in both. In the graph with the (NAs) fixed, the median matched the mean, however the frequency of the band the mean is in increased while the frequency of the rest of the bands remain virtually unchanged.  A horizontal line was placed at 2, 3, 5, 9, 12, and 15 to help illustrate this.



## Are there differences in activity patterns between weekdays and weekends?
``` {r, echo=TRUE}
weekdays <- c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday")
actfx$dow = as.factor(ifelse(is.element(weekdays(as.Date(actfx$date)),weekdays), "Weekday", "Weekend"))
sbi2 <- aggregate(steps ~ interval + dow, actfx, mean)
library(lattice)
xyplot(sbi2$steps ~ sbi2$interval|sbi2$dow, main="Average Steps per Day by Interval",xlab="Interval", ylab="Steps",layout=c(1,2), type="l")

```

Compairing the Weekend to weekdays it appears there is still a spike around the 8:35 am.  However there is more activity all day long throuhg out the day for the weekend.
